{"pageProps":{"post":{"title":"ë¸”ë¡œê·¸ ë¶ë§ˆí¬ ë§Œë“¤ê¸°","date":"2023-06-18","description":"ë‚˜ë„ ì›¹ì‚¬ì´íŠ¸ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ë§Œë“¤ê³  ì‹¶ë‹¤","collection":"blog","tags":["Blog","Next.js","ê°œë°œ","Next13"],"img":"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png","body":{"raw":"\n# ğŸ‘‹\n\n---\n\nì´ë²ˆì— next13ì´ ì–´ëŠì •ë„ ì•ˆì •í™”ë˜ê³ â€¦ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì„ ì½ì–´ë³´ë‹ˆê¹Œ ë„ˆë¬´ ì‚¬ìš©í•˜ê³  ì‹¶ì–´ì„œ..\n\nì´ê±° ì €ê±° ë§Œì ¸ë³´ê³  ì§€ê¸ˆ ë¸”ë¡œê·¸ë„ 13ë²„ì „ìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í•˜ë‹¤ë³´ë‹ˆê¹Œ.. ì‹œê°„ì´ ë„ˆë¬´ ë¶€ì¡±í–ˆìŠµë‹ˆë‹¤.\n\nìƒˆë¡œìš´ í™˜ê²½ì´ë¼ ì •ë³´ë„ ì ê³ , 12ë²„ì „ì—ì„œ ë§Œë“¤ì–´ ë†“ì€ í•¨ìˆ˜ë“¤ê³¼ í˜ì´ì§€ë“¤ì„ ì „ë¶€ ìˆ˜ì •í•´ì•¼ í•˜ë‹ˆ ìƒê°ë³´ë‹¤ ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ë”êµ°ìš”,â€¦\n\n+Typescript ë¥¼ ì¶”ê°€í–ˆëŠ”ë°â€¦ ã…‹ã…‹ã…‹ íƒ€ì… ì¶©ëŒì´ ë§ì´ ë‚˜ë”êµ°ìš”..\n\nì¼ë‹¨ ë§Œë“¤ì–´ ë†“ì€ ë¶ë§ˆí¬ ê¸°ëŠ¥ì„ ë³´ì—¬ë“œë¦¬ë„ë¡ í•˜ì£ \n\n![Untitled](https://velog.velcdn.com/images/ateals_12/post/bba1fb2b-6ee8-4a6e-8c0a-9969e772e6d5/image.png)\n\nì‚¬ìš©ìê°€ mdxíŒŒì¼ì— `~~url~~` í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•˜ë©´ í˜ì´ì§€ì˜ ogí…Œê·¸ ë‚´ìš©ì„ ê°€ì ¸ì™€ ë¶ë§ˆí¬ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤\n\n# ì‹œì‘!\n\n---\n\nogí…Œê·¸ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ”\n\n~~[https://www.npmjs.com/package/open-graph](https://www.npmjs.com/package/open-graph)~~\n\në¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\ní•˜ì§€ë§Œ ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ next.js ì„œë²„ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•˜ë ¤í•˜ë‹ˆ net ëª¨ë“ˆì´ í•„ìš”í•˜ë”êµ°ìš”â€¦\n\nìµœëŒ€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‘ì—…ì„ í•˜ì§€ ì•Šê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.\n\n<aside className=\"my-10 py-[20px] px-[10px] dark:bg-[#1E1E1E] bg-[#efefef] rounded-[10px]\">\n\n1. api routeë¥¼ ë§Œë“¤ì–´ì„œ ogíƒœê·¸ë¥¼ ë°›ì•„ì˜¤ëŠ” apië¥¼ ë§Œë“ ë‹¤.\n2. ì„œë²„ì»´í¬ë„ŒíŠ¸ì—ì„œ apië¥¼ í˜¸ì¶œí•œë‹¤.\n3. ë¶ë§ˆí¬ë¥¼ ëœë”ë§í•œë‹¤.\n4. MDXcomponents ì—ì„œ ë¶ë§ˆí¬ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤!\n\n</aside>\n\nì²˜ìŒì—” nextjsì˜ rewriteê¸°ëŠ¥ì„ ì´ìš©í•´ì„œ ì„ì˜ë¡œ ë§Œë“  apií‚¤ë¥¼ ìˆ¨ê¸°ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ í–ˆì§€ë§Œ..\n\nì™œì¸ì§€ vercelì— ë°°í¬í•˜ë©´ rewriteë¡œ ë¶ˆëŸ¬ì˜¬ë•Œ headerë¥¼ ê°€ì ¸ì˜¤ëŠ” ê³¼ì •ì—ì„œ ì´ì „ urlì˜ íŒŒë¼ë¯¸í„°ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ê°€ ì—†ì—ˆìŠµë‹ˆë‹¤â€¦\n\nê·¸ë˜ì„œ ì„œë²„ì—ì„œ apië¥¼ í˜¸ì¶œ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ apikeyë¥¼ ìˆ¨ê²¼ìŠµë‹ˆë‹¤.\n\nì½”ë“œë¥¼ ë³´ì‹œì£ !\n\n## api\n\n---\n\n```jsx\n//app/api/getOg\n\nimport { NextRequest, NextResponse } from \"next/server\";\nimport og from \"open-graph\";\n\nconst getOg = (url: string) =>\n    new Promise((resolve, reject) => {\n        og(url, function (err, meta) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(meta);\n        });\n    });\n\nexport async function GET(request: NextRequest) {\n    const url = request.nextUrl.searchParams.get(\"url\");\n    const api_key = request.nextUrl.searchParams.get(\"api_key\");\n\n    if (api_key !== process.env.API_KEY) return NextResponse.json({ title: \"NOT MATCH API KEY\", api_key });\n    if (!url) return NextResponse.json({ title: \"NO URL\" });\n    try {\n        const data = await getOg(encodeURI(url));\n        return NextResponse.json(data);\n    } catch (err) {\n        return NextResponse.json({ err });\n    }\n}\n```\n\napiëŠ” íŒŒë¼ë¯¸í„°ì— urlê³¼ api_keyë¥¼ ë°›ì•„ì˜µë‹ˆë‹¤. api_keyê°€ ê°™ì€ì§€ í™•ì¸í•˜ê³ , í‹€ë¦¬ë‹¤ë©´ ë¦¬í„´í•©ë‹ˆë‹¤.\n\napií‚¤ê°€ ë™ì¼í•˜ë‹¤ë©´, getOgí•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ open-graph íƒœê·¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.\n\nê°€ì ¸ì˜¨ íƒœê·¸ë¥¼ json í˜•ì‹ìœ¼ë¡œ ë¦¬í„´í•©ë‹ˆë‹¤.\n\nì´ë ‡ê²Œ ë°›ì•„ì˜¨ ì½”ë“œë¥¼ bookmark ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë°›ì•„ì˜µë‹ˆë‹¤.\n\n## Bookmark\n\n---\n\n```tsx\nimport Link from \"next/link\";\nimport { use } from \"react\";\n\ninterface data {\n    title: string;\n    image: {\n        url: string;\n    };\n    description?: string;\n}\nconst getOgData = async (url: string) => {\n    const baseUrl = process.env.NODE_ENV === \"development\" ? `http://localhost:3000` : \"https://tealslog.vercel.app\";\n    const data = await (await fetch(baseUrl + `/api/getOg?api_key=${process.env.NEXT_PUBLIC_API_KEY}&url=${url}`)).json();\n    return data;\n};\n\nexport default ({ url }: { url: string }) => {\n    const data: data = use(getOgData(url));\n\n    return (\n        <>\n            {data && (\n                <Link href={url}>\n                    <div className=\"shadowBottom my-10 flex h-[200px] hover:scale-105\">\n                        <div className=\"h-full w-[30%] relative\">\n                            <img\n                                src={data.image?.url}\n                                alt=\"Image\"\n                                className=\"h-full w-full object-cover \"\n                            />\n                        </div>\n                        <div className=\"w-[70%] h-full relative flex flex-col justify-between p-4\">\n                            <div className=\"overflow-hidden\">\n                                <h1 className=\"text-[24px] font-bold mb-2 \">{data.title}</h1>\n                                <p className=\"text-[12px]\">{data.description}</p>\n                            </div>\n\n                            <small className=\"text-end overflow-clip text-[gray]\">{decodeURI(url)}</small>\n                        </div>\n                    </div>\n                </Link>\n            )}\n        </>\n    );\n};\n```\n\nNext 13 ë²„ì „ë¶€í„°ëŠ” ìµœìƒë‹¨ì— â€œuse clientâ€ë¥¼ ì‘ì„±í•˜ì§€ ì•Šì€ ì»´í¬ë„ŒíŠ¸ëŠ” ëª¨ë‘ ì„œë²„ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.\n\nì„œë²„ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” fetchë¥¼ ì´ìš©í•´ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ì£ \n\nê°€ì ¸ì˜¨ ë°ì´í„°ë¥¼ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í• ë• use()í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.\n\nBookmark ì»´í¬ë„ŒíŠ¸ëŠ” urlì„ propsë¡œ ë°›ì•„ì„œ apië¥¼ í˜¸ì¶œí•˜ê³  ë°›ì€ ë°ì´í„°ë¥¼ ë¶ë§ˆí¬ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.\n\nì´ë ‡ê²Œ ë§Œë“  ì»´í¬ë„ŒíŠ¸ëŠ” ìŠ¤ì¼ˆë ˆí†¤ uië¥¼ í¬í•¨í•©ë‹ˆë‹¤.\n\n```jsx\nexport const SkeletonBookmark = () => {\n    return (\n        <div className=\"shadowBottom my-10 flex h-[200px]\">\n            <div className=\"h-full w-[30%] bg-[gray] animate-pulse\"></div>\n            <div className=\"w-[70%] h-full relative flex flex-col justify-between p-4\">\n                <div>\n                    <h1 className=\"w-[40%] text-[24px] font-bold mb-2 bg-[gray] h-[30px] animate-pulse\"></h1>\n                    <div className=\"w-[100%] text-[12px] h-[16px] animate-pulse flex items-center\"></div>\n                </div>\n                <small className=\"text-end bg-[gray] h-[12px] animate-pulse\"></small>\n            </div>\n        </div>\n    );\n};\n```\n\nmdxíŒŒì¼ì„ í˜¸ì¶œí•˜ë©´,\n\nsuspendì— fallbackì— ë„˜ê²¨ì§„ ìŠ¤ì¼ˆë ˆí†¤ uië¥¼ ë¨¼ì € ë³´ì—¬ì¤€ë’¤,\n\në°ì´í„°ë¥¼ ë°›ìœ¼ë©´ bookmark ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”í•©ë‹ˆë‹¤.\n\n# ğŸšª\n\n---\n\nì´ê±¸ ë§Œë“œëŠ”ë° ì •ë§ ë§ì€ ì‹œí–‰ì°©ì˜¤ë¥¼ ì§€ë‚œ ê²ƒ ê°™ìŠµë‹ˆë‹¤..\n\në§‰ìƒ ê²°ê³¼ë¥¼ ë§Œë“¤ê³  ë‚˜ë‹ˆ ì •ë§ ë¿Œë“¯í•˜ê³  ì´ìœê±° ê°™ë„¤ìš” ã…ã…ã…\n\nì•ìœ¼ë¡œëŠ” next 13ì„ ì‚¬ìš©í•´ë³¸ ë‚´ìš©ì„ ì •ë¦¬í• ê±° ê°™ìŠµë‹ˆë‹¤\n\në§ˆì§€ë§‰ìœ¼ë¡œ ë¶ë§ˆí¬ë¥¼ ë§Œë“¤ë©´ì„œ ê°€ì¥ ë§ì´ ë“¤ì—ˆë˜ ë…¸ë˜ë¥¼ ê³µìœ í•˜ë©´ì„œ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤!\n\n~~[https://www.youtube.com/watch?v=hHD2GGRIJ9k](https://www.youtube.com/watch?v=hHD2GGRIJ9k)~~\n","code":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var x=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),f=(r,e)=>{for(var t in e)l(r,t,{get:e[t],enumerable:!0})},s=(r,e,t,i)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let a of m(e))!u.call(r,a)&&a!==t&&l(r,a,{get:()=>e[a],enumerable:!(i=h(e,a))||i.enumerable});return r};var v=(r,e,t)=>(t=r!=null?d(g(r)):{},s(e||!r||!r.__esModule?l(t,\"default\",{value:r,enumerable:!0}):t,r)),w=r=>s(l({},\"__esModule\",{value:!0}),r);var p=x((_,c)=>{c.exports=_jsx_runtime});var j={};f(j,{default:()=>b,frontmatter:()=>N});var n=v(p()),N={title:\"\\uBE14\\uB85C\\uADF8 \\uBD81\\uB9C8\\uD06C \\uB9CC\\uB4E4\\uAE30\",description:\"\\uB098\\uB3C4 \\uC6F9\\uC0AC\\uC774\\uD2B8 \\uBBF8\\uB9AC\\uBCF4\\uAE30\\uB97C \\uB9CC\\uB4E4\\uACE0 \\uC2F6\\uB2E4\",collection:\"blog\",tags:[\"Blog\",\"Next.js\",\"\\uAC1C\\uBC1C\",\"Next13\"],date:new Date(16870464e5),img:\"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png\"};function o(r){let e=Object.assign({h1:\"h1\",hr:\"hr\",p:\"p\",img:\"img\",code:\"code\",del:\"del\",a:\"a\",ol:\"ol\",li:\"li\",h2:\"h2\",pre:\"pre\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"\\u{1F44B}\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uBC88\\uC5D0 next13\\uC774 \\uC5B4\\uB290\\uC815\\uB3C4 \\uC548\\uC815\\uD654\\uB418\\uACE0\\u2026 \\uC5EC\\uB7EC \\uAE30\\uB2A5\\uB4E4\\uC744 \\uC77D\\uC5B4\\uBCF4\\uB2C8\\uAE4C \\uB108\\uBB34 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC2F6\\uC5B4\\uC11C..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uAC70 \\uC800\\uAC70 \\uB9CC\\uC838\\uBCF4\\uACE0 \\uC9C0\\uAE08 \\uBE14\\uB85C\\uADF8\\uB3C4 13\\uBC84\\uC804\\uC73C\\uB85C \\uB9C8\\uC774\\uADF8\\uB808\\uC774\\uC158 \\uD558\\uB2E4\\uBCF4\\uB2C8\\uAE4C.. \\uC2DC\\uAC04\\uC774 \\uB108\\uBB34 \\uBD80\\uC871\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC0C8\\uB85C\\uC6B4 \\uD658\\uACBD\\uC774\\uB77C \\uC815\\uBCF4\\uB3C4 \\uC801\\uACE0, 12\\uBC84\\uC804\\uC5D0\\uC11C \\uB9CC\\uB4E4\\uC5B4 \\uB193\\uC740 \\uD568\\uC218\\uB4E4\\uACFC \\uD398\\uC774\\uC9C0\\uB4E4\\uC744 \\uC804\\uBD80 \\uC218\\uC815\\uD574\\uC57C \\uD558\\uB2C8 \\uC0DD\\uAC01\\uBCF4\\uB2E4 \\uC2DC\\uAC04\\uC774 \\uB9CE\\uC774 \\uAC78\\uB9AC\\uB354\\uAD70\\uC694,\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"+Typescript \\uB97C \\uCD94\\uAC00\\uD588\\uB294\\uB370\\u2026 \\u314B\\u314B\\u314B \\uD0C0\\uC785 \\uCDA9\\uB3CC\\uC774 \\uB9CE\\uC774 \\uB098\\uB354\\uAD70\\uC694..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC77C\\uB2E8 \\uB9CC\\uB4E4\\uC5B4 \\uB193\\uC740 \\uBD81\\uB9C8\\uD06C \\uAE30\\uB2A5\\uC744 \\uBCF4\\uC5EC\\uB4DC\\uB9AC\\uB3C4\\uB85D \\uD558\\uC8E0\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://velog.velcdn.com/images/ateals_12/post/bba1fb2b-6ee8-4a6e-8c0a-9969e772e6d5/image.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\uC0AC\\uC6A9\\uC790\\uAC00 mdx\\uD30C\\uC77C\\uC5D0 \",(0,n.jsx)(e.code,{children:\"~~url~~\"}),\" \\uD615\\uC2DD\\uC73C\\uB85C \\uC791\\uC131\\uD558\\uBA74 \\uD398\\uC774\\uC9C0\\uC758 og\\uD14C\\uADF8 \\uB0B4\\uC6A9\\uC744 \\uAC00\\uC838\\uC640 \\uBD81\\uB9C8\\uD06C\\uB85C \\uB9CC\\uB4E4\\uC5B4 \\uC90D\\uB2C8\\uB2E4\"]}),`\n`,(0,n.jsx)(e.h1,{children:\"\\uC2DC\\uC791!\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"og\\uD14C\\uADF8\\uB97C \\uAC00\\uC838\\uC624\\uAE30 \\uC704\\uD55C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB294\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.del,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/open-graph\",children:\"https://www.npmjs.com/package/open-graph\"})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB97C \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uD558\\uC9C0\\uB9CC \\uC774 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C next.js \\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB824\\uD558\\uB2C8 net \\uBAA8\\uB4C8\\uC774 \\uD544\\uC694\\uD558\\uB354\\uAD70\\uC694\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCD5C\\uB300\\uD55C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC \\uC791\\uC5C5\\uC744 \\uD558\\uC9C0 \\uC54A\\uAE30 \\uC704\\uD574 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC744 \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(\"aside\",{className:\"my-10 py-[20px] px-[10px] dark:bg-[#1E1E1E] bg-[#efefef] rounded-[10px]\",children:(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"api route\\uB97C \\uB9CC\\uB4E4\\uC5B4\\uC11C og\\uD0DC\\uADF8\\uB97C \\uBC1B\\uC544\\uC624\\uB294 api\\uB97C \\uB9CC\\uB4E0\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C api\\uB97C \\uD638\\uCD9C\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uB79C\\uB354\\uB9C1\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"MDXcomponents \\uC5D0\\uC11C \\uBD81\\uB9C8\\uD06C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uBD88\\uB7EC\\uC628\\uB2E4!\"}),`\n`]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCC98\\uC74C\\uC5D4 nextjs\\uC758 rewrite\\uAE30\\uB2A5\\uC744 \\uC774\\uC6A9\\uD574\\uC11C \\uC784\\uC758\\uB85C \\uB9CC\\uB4E0 api\\uD0A4\\uB97C \\uC228\\uAE30\\uB294 \\uBC29\\uC2DD\\uC744 \\uC0AC\\uC6A9\\uD558\\uB824 \\uD588\\uC9C0\\uB9CC..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC65C\\uC778\\uC9C0 vercel\\uC5D0 \\uBC30\\uD3EC\\uD558\\uBA74 rewrite\\uB85C \\uBD88\\uB7EC\\uC62C\\uB54C header\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uACFC\\uC815\\uC5D0\\uC11C \\uC774\\uC804 url\\uC758 \\uD30C\\uB77C\\uBBF8\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uC218 \\uAC00 \\uC5C6\\uC5C8\\uC2B5\\uB2C8\\uB2E4\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uADF8\\uB798\\uC11C \\uC11C\\uBC84\\uC5D0\\uC11C api\\uB97C \\uD638\\uCD9C \\uD558\\uB294 \\uBC29\\uC2DD\\uC73C\\uB85C apikey\\uB97C \\uC228\\uACBC\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCF54\\uB4DC\\uB97C \\uBCF4\\uC2DC\\uC8E0!\"}),`\n`,(0,n.jsx)(e.h2,{children:\"api\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`//app/api/getOg\n\nimport { NextRequest, NextResponse } from \"next/server\";\nimport og from \"open-graph\";\n\nconst getOg = (url: string) =>\n    new Promise((resolve, reject) => {\n        og(url, function (err, meta) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(meta);\n        });\n    });\n\nexport async function GET(request: NextRequest) {\n    const url = request.nextUrl.searchParams.get(\"url\");\n    const api_key = request.nextUrl.searchParams.get(\"api_key\");\n\n    if (api_key !== process.env.API_KEY) return NextResponse.json({ title: \"NOT MATCH API KEY\", api_key });\n    if (!url) return NextResponse.json({ title: \"NO URL\" });\n    try {\n        const data = await getOg(encodeURI(url));\n        return NextResponse.json(data);\n    } catch (err) {\n        return NextResponse.json({ err });\n    }\n}\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"api\\uB294 \\uD30C\\uB77C\\uBBF8\\uD130\\uC5D0 url\\uACFC api_key\\uB97C \\uBC1B\\uC544\\uC635\\uB2C8\\uB2E4. api_key\\uAC00 \\uAC19\\uC740\\uC9C0 \\uD655\\uC778\\uD558\\uACE0, \\uD2C0\\uB9AC\\uB2E4\\uBA74 \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"api\\uD0A4\\uAC00 \\uB3D9\\uC77C\\uD558\\uB2E4\\uBA74, getOg\\uD568\\uC218\\uB97C \\uC774\\uC6A9\\uD558\\uC5EC open-graph \\uD0DC\\uADF8\\uB97C \\uAC00\\uC838\\uC635\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uAC00\\uC838\\uC628 \\uD0DC\\uADF8\\uB97C json \\uD615\\uC2DD\\uC73C\\uB85C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uB807\\uAC8C \\uBC1B\\uC544\\uC628 \\uCF54\\uB4DC\\uB97C bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC73C\\uB85C \\uBC1B\\uC544\\uC635\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"Bookmark\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-tsx\",children:`import Link from \"next/link\";\nimport { use } from \"react\";\n\ninterface data {\n    title: string;\n    image: {\n        url: string;\n    };\n    description?: string;\n}\nconst getOgData = async (url: string) => {\n    const baseUrl = process.env.NODE_ENV === \"development\" ? \\`http://localhost:3000\\` : \"https://tealslog.vercel.app\";\n    const data = await (await fetch(baseUrl + \\`/api/getOg?api_key=\\${process.env.NEXT_PUBLIC_API_KEY}&url=\\${url}\\`)).json();\n    return data;\n};\n\nexport default ({ url }: { url: string }) => {\n    const data: data = use(getOgData(url));\n\n    return (\n        <>\n            {data && (\n                <Link href={url}>\n                    <div className=\"shadowBottom my-10 flex h-[200px] hover:scale-105\">\n                        <div className=\"h-full w-[30%] relative\">\n                            <img\n                                src={data.image?.url}\n                                alt=\"Image\"\n                                className=\"h-full w-full object-cover \"\n                            />\n                        </div>\n                        <div className=\"w-[70%] h-full relative flex flex-col justify-between p-4\">\n                            <div className=\"overflow-hidden\">\n                                <h1 className=\"text-[24px] font-bold mb-2 \">{data.title}</h1>\n                                <p className=\"text-[12px]\">{data.description}</p>\n                            </div>\n\n                            <small className=\"text-end overflow-clip text-[gray]\">{decodeURI(url)}</small>\n                        </div>\n                    </div>\n                </Link>\n            )}\n        </>\n    );\n};\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Next 13 \\uBC84\\uC804\\uBD80\\uD130\\uB294 \\uCD5C\\uC0C1\\uB2E8\\uC5D0 \\u201Cuse client\\u201D\\uB97C \\uC791\\uC131\\uD558\\uC9C0 \\uC54A\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uBAA8\\uB450 \\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC785\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 fetch\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uC8E0\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uAC00\\uC838\\uC628 \\uB370\\uC774\\uD130\\uB97C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD560\\uB550 use()\\uD568\\uC218\\uB97C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 url\\uC744 props\\uB85C \\uBC1B\\uC544\\uC11C api\\uB97C \\uD638\\uCD9C\\uD558\\uACE0 \\uBC1B\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uBD81\\uB9C8\\uD06C\\uB85C \\uB9CC\\uB4E4\\uC5B4\\uC90D\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uB807\\uAC8C \\uB9CC\\uB4E0 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC2A4\\uCF08\\uB808\\uD1A4 ui\\uB97C \\uD3EC\\uD568\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`export const SkeletonBookmark = () => {\n    return (\n        <div className=\"shadowBottom my-10 flex h-[200px]\">\n            <div className=\"h-full w-[30%] bg-[gray] animate-pulse\"></div>\n            <div className=\"w-[70%] h-full relative flex flex-col justify-between p-4\">\n                <div>\n                    <h1 className=\"w-[40%] text-[24px] font-bold mb-2 bg-[gray] h-[30px] animate-pulse\"></h1>\n                    <div className=\"w-[100%] text-[12px] h-[16px] animate-pulse flex items-center\"></div>\n                </div>\n                <small className=\"text-end bg-[gray] h-[12px] animate-pulse\"></small>\n            </div>\n        </div>\n    );\n};\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"mdx\\uD30C\\uC77C\\uC744 \\uD638\\uCD9C\\uD558\\uBA74,\"}),`\n`,(0,n.jsx)(e.p,{children:\"suspend\\uC5D0 fallback\\uC5D0 \\uB118\\uACA8\\uC9C4 \\uC2A4\\uCF08\\uB808\\uD1A4 ui\\uB97C \\uBA3C\\uC800 \\uBCF4\\uC5EC\\uC900\\uB4A4,\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB370\\uC774\\uD130\\uB97C \\uBC1B\\uC73C\\uBA74 bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uB80C\\uB354\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.h1,{children:\"\\u{1F6AA}\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uAC78 \\uB9CC\\uB4DC\\uB294\\uB370 \\uC815\\uB9D0 \\uB9CE\\uC740 \\uC2DC\\uD589\\uCC29\\uC624\\uB97C \\uC9C0\\uB09C \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB9C9\\uC0C1 \\uACB0\\uACFC\\uB97C \\uB9CC\\uB4E4\\uACE0 \\uB098\\uB2C8 \\uC815\\uB9D0 \\uBFCC\\uB4EF\\uD558\\uACE0 \\uC774\\uC05C\\uAC70 \\uAC19\\uB124\\uC694 \\u314E\\u314E\\u314E\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC55E\\uC73C\\uB85C\\uB294 next 13\\uC744 \\uC0AC\\uC6A9\\uD574\\uBCF8 \\uB0B4\\uC6A9\\uC744 \\uC815\\uB9AC\\uD560\\uAC70 \\uAC19\\uC2B5\\uB2C8\\uB2E4\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uBD81\\uB9C8\\uD06C\\uB97C \\uB9CC\\uB4E4\\uBA74\\uC11C \\uAC00\\uC7A5 \\uB9CE\\uC774 \\uB4E4\\uC5C8\\uB358 \\uB178\\uB798\\uB97C \\uACF5\\uC720\\uD558\\uBA74\\uC11C \\uB9C8\\uCE58\\uACA0\\uC2B5\\uB2C8\\uB2E4!\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.del,{children:(0,n.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=hHD2GGRIJ9k\",children:\"https://www.youtube.com/watch?v=hHD2GGRIJ9k\"})})})]})}function k(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(o,r)})):o(r)}var b=k;return w(j);})();\n;return Component;"},"_id":"blog/bookmark.mdx","_raw":{"sourceFilePath":"blog/bookmark.mdx","sourceFileName":"bookmark.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/bookmark"},"type":"Post"}},"__N_SSG":true}