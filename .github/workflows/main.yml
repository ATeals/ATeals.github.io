# name: GitHub Pages Deploy

# on:
#     push:
#         branches:
#             - main

# jobs:
#     build-and-deploy:
#         runs-on: ubuntu-latest
#         steps:
#             - name: Checkout ğŸ›ï¸
#               uses: actions/checkout@v3

#             - name: Install and Build ğŸ”§
#               run: |
#                   npm install
#                   npm run build && touch ./out/.nojekyll

#             - name: Deploy ğŸš€
#               uses: JamesIves/github-pages-deploy-action@v4
#               with:
#                   branch: gh-pages
#                   folder: out

name: Build and Deploy
on:
    push:
        branches:
            - master

jobs:
    build-and-deploy:
        runs-on: ubuntu-latest
        steps:
            - name: Checkout
              uses: actions/checkout@v2.3.1
              with:
                  persist-credentials: false

            - name: Install and Build
              uses: actions/setup-node@v1
            - run: npm install
            - run: npm run build
            - run: npm run export
              env:
                  CI: true
                  DEPLOY_TARGET: gh-pages
            - run: touch out/.nojekyll

            - name: Deploy
              uses: JamesIves/github-pages-deploy-action@3.7.1
              with:
                  BRANCH: gh-pages # ë°°í¬ë  ë¸Œëœì¹˜
                  FOLDER: out # ì´ í´ë”ì— ìˆëŠ” íŒŒì¼ì„ ë°°í¬
                  CLEAN: true # ë°°í¬ ë¸Œëœì¹˜ì— ìˆëŠ” íŒŒì¼ë“¤ì„ ìë™ìœ¼ë¡œ ì‚­ì œ
