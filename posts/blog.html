<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>우당탕탕 블로그 개발기</title><meta name="robots" content="index,follow"/><meta name="description" content="아무것도 몰라도 일단 만들고 보자!"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@site"/><meta name="twitter:creator" content="@handle"/><meta property="og:title" content="우당탕탕 블로그 개발기"/><meta property="og:description" content="아무것도 몰라도 일단 만들고 보자!"/><meta property="og:url" content="https://ateals.github.io/blog"/><meta property="og:type" content="website"/><meta property="og:image" content="https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png"/><meta property="og:image:alt" content="이미지"/><meta property="og:image:width" content="285"/><meta property="og:image:height" content="167"/><meta property="og:locale" content="ko_KR"/><meta property="og:site_name" content="쇠오리 블로그"/><link rel="canonical" href="https://www.carrotins.com"/><meta name="next-head-count" content="19"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.1/font/bootstrap-icons.css"/><meta name="google-site-verification" content="JDJ-T3hfMGZBH0kZu9R8xxEZGcLKaWeMYgstuXZGJVw"/><link rel="preload" href="/_next/static/css/0c101d13e28b3ce0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0c101d13e28b3ce0.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-9b312e20a4e32339.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-0c2979b006745bb1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f00761cee3c66226.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-d2aa0397200322c6.js" defer=""></script><script src="/_next/static/s36_Vv7CN2nR3xVNA3SaL/_buildManifest.js" defer=""></script><script src="/_next/static/s36_Vv7CN2nR3xVNA3SaL/_ssgManifest.js" defer=""></script></head><body class="dark:text-darkText dark:bg-darkBg lg:mx-[10%] relative"><div id="__next"><header class="flex justify-between items-center p-5"><a href="/"><h1 class="text-3xl font-[600]">쇠오리 블로그</h1></a><nav class="flex [&amp;&gt;*]:mx-2"><a href="/collection"><i class="bi bi-book text-2xl"></i></a><a href="/tags"><i class="bi bi-tag text-2xl"></i></a><div class="hover:cursor-pointer"></div></nav></header><main class="min-h-screen pb-[300px]"><main class="flex flex-col items-center w-full pt-10"><section class="w-full"><section class="px-[10%] m-[10px] shadowBottom"><div class="m-[20px] flex flex-col items-center mb-[50px] pb-[50px] "><img src="https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png" alt="" class="rounded-[15px] w-[10rem] h-auto  m-[30px]"/><h1 class="my-[20px] w-full text-center font-bold text-[2em]">우당탕탕 블로그 개발기</h1><h3>아무것도 몰라도 일단 만들고 보자!</h3></div></section><a href="/posts/blog/[%EA%B0%9C%EB%B0%9C]%20%ED%8F%B4%EB%8D%94%20%EB%B3%84%EB%A1%9C%20%EC%8B%9C%EB%A6%AC%EC%A6%88%20%EB%82%98%EB%88%84%EA%B8%B0"><div class="mb-10 pl-10"><h1 class="text-lg md:text-2xl">[개발] 폴더 별로 시리즈 나누기</h1><h2 class="text-[gray] text-sm md:text-lg">글을 나누는 건 알겠는데 시리즈는 어캐 나누지?<!-- --> | <!-- -->2개월 전</h2></div></a><a href="/posts/blog/bookmark"><div class="mb-10 pl-10"><h1 class="text-lg md:text-2xl">블로그 북마크 만들기</h1><h2 class="text-[gray] text-sm md:text-lg">나도 웹사이트 미리보기를 만들고 싶다<!-- --> | <!-- -->1개월 전</h2></div></a></section></main></main><footer class="text-[gray] absolute bottom-0 w-full py-10 px-5 flex [&amp;&gt;*]:mr-10"><div><div class="text-[18px] mb-5">© Ateals</div><ul class="flex [&amp;&gt;*]:mx-2"><li><a target="_blank" href="https://velog.io/@ateals_12">Velog</a></li><li><a target="_blank" href="https://github.com/ATeals">Github</a></li></ul></div><div><h1 class="text-xl mb-5">Collection</h1><ul><a href="/posts/blog"><li class="mb-2"><span>우당탕탕 블로그 개발기</span></li></a><a href="/posts/carving"><li class="mb-2"><span>갈무리</span></li></a><a href="/posts/javascriptDeepDive"><li class="mb-2"><span>모딥다!</span></li></a><a href="/posts/js"><li class="mb-2"><span>유돈노 JS</span></li></a><a href="/posts/react"><li class="mb-2"><span>리액트</span></li></a></ul></div></footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"collection":{"title":"우당탕탕 블로그 개발기","date":"2023-05-22","description":"아무것도 몰라도 일단 만들고 보자!","collection":"blog","tags":["Blog","Next.js","개발"],"img":"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png","body":{"raw":"","code":"var Component=(()=\u003e{var l=Object.create;var r=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var x=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var u=(t,e)=\u003e()=\u003e(e||t((e={exports:{}}).exports,e),e.exports),_=(t,e)=\u003e{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},s=(t,e,n,c)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let a of x(e))!p.call(t,a)\u0026\u0026a!==n\u0026\u0026r(t,a,{get:()=\u003ee[a],enumerable:!(c=d(e,a))||c.enumerable});return t};var j=(t,e,n)=\u003e(n=t!=null?l(f(t)):{},s(e||!t||!t.__esModule?r(n,\"default\",{value:t,enumerable:!0}):n,t)),b=t=\u003es(r({},\"__esModule\",{value:!0}),t);var g=u((C,i)=\u003e{i.exports=_jsx_runtime});var v={};_(v,{default:()=\u003eh,frontmatter:()=\u003eD});var o=j(g()),D={title:\"\\uC6B0\\uB2F9\\uD0D5\\uD0D5 \\uBE14\\uB85C\\uADF8 \\uAC1C\\uBC1C\\uAE30\",description:\"\\uC544\\uBB34\\uAC83\\uB3C4 \\uBAB0\\uB77C\\uB3C4 \\uC77C\\uB2E8 \\uB9CC\\uB4E4\\uACE0 \\uBCF4\\uC790!\",collection:\"blog\",tags:[\"Blog\",\"Next.js\",\"\\uAC1C\\uBC1C\"],date:new Date(16847136e5),img:\"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png\"};function m(t){return(0,o.jsx)(o.Fragment,{})}function M(t={}){let{wrapper:e}=t.components||{};return e?(0,o.jsx)(e,Object.assign({},t,{children:(0,o.jsx)(m,t)})):m(t)}var h=M;return b(v);})();\n;return Component;"},"_id":"blog/index.mdx","_raw":{"sourceFilePath":"blog/index.mdx","sourceFileName":"index.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog"},"type":"Post","posts":[{"title":"[개발] 폴더 별로 시리즈 나누기","date":"2023-05-22","description":"글을 나누는 건 알겠는데 시리즈는 어캐 나누지?","collection":"blog","tags":["Blog","Next.js","개발"],"img":"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png","body":{"raw":"\n# 발단\n\n---\n\n\u003e React를 어찌저찌 클론해보고, next.js에 혹한 뒤에 블로그 개발에 흥미가 생긴 나는 아무런 지식 없이 블로그를 만들기로 했다.\n\n다른 분들의 블로그 코드를 참조하고, 기본적인 페이지 생성은 next.js 블로그 라고 검색 했을 때 가장 먼저 발견한 [Next.js로 나만의 블로그 만들기 with 정적 생성](https://miryang.dev/blog/build-blog-with-nextjs) 을 토대로 시작했다.\n\n이대로 포스트를 만들다 보니 여타 다른 블로그나 벨로그에도 있는 시리즈 별로 글을 나누는 것이 너무 부러웠다.\n\n글을 개발, 코딩테스트 연습, 일상, 회고 등등 나중에 확장하다 보면 분명 글을 파일별로 나누고 싶어질 것이기 때문에 미리 만들어 놓고 싶어졌다.\n\n(이걸 하면서, 버그가 너무 많이 생겼다.....)\n\n# 과정\n\n---\n\n시리즈를 나눈 코드는 [bepyan](https://bepyan.github.io/blog)님의 코드를 참고했다!\n\n우리는 마크다운 파일을 [contentlayer](https://www.contentlayer.dev/docs/environments/nextjs)를 이용해서 html파일에 빌드한다.\n\n이때 **contentlayer**에서 파일을 가져오는 방법은 **config**에서 설정한 디랙토리의 mdx파일을 불러오는 방식인데,\n\n각 파일은 **contentlayer**에 의해 **allPosts** 배열에 **json**형식으로 저장되고, 해당 **json**파일에는 폴더 디랙토리가 나타나 있어 동적라우팅을 적용하기 편리했다.\n\n내 블로그의 포스트를 나타내는 파일 경로는 다음과 같다.\n\n```\npages\n|\n|-\u003e posts\n    |-\u003e [...slugs].jsx\n    |-\u003e[slug].jsx\n    |-\u003eindex.jsx\n```\n\n### index.js\n\n**posts** 폴더의 가장 기본 경로이다. 이 페이지에는 모든 시리즈를 보여주는 페이지를 만들 것이다.\n\n### [slug].jsx\n\n그렇다 동적라우팅 나는 이녀석 때매 애를 무지하게 먹었다....\n이 파일에는 각 시리즈에 있는 글 목록을 나타내는 페이지를 만들 것이다.\n\n### [...slugs].jsx\n\n이 파일은 각각 글에 대한 페이지이다.\n\n\u003e \\*\\*자자 나도 [slug]와 [...slugs]때매 애를 무지하게 먹었다. (버그의 대부분이 이 부분)\n\n시리즈의 라우트 경로 -\u003e posts/시리즈 이름\n포스트의 라우트 경로 -\u003e posts/시리즈 이름/포스트 이름\n이런 형식으로 정적 페이지가 미리 생성되고 랜더링 될텐데...\n\n여기서 문제는 **[...slugs]**에 있다. 이 친구를 이용해서 slugs를 \"/\"단위로 분리해서 배열에 저장해서\n포스트를 정적 페이지로 만들텐데, 이렇게 되면 \"posts/시리즈 이름\" 페이지는 **[slug].jsx**에서도 생성되고 **[...slugs].jsx**에서도 생성되어 빌드시 오류가 난다... (그래서 나는 **[...slugs].jsx**에서 **index.mdx**파일을 제외하는 방식을 이용했다.)\n\n# 시작!\n\n---\n\n글을 html페이지에 불러오는 건 참고자료에 나와있는 블로그와 구글에 검색하면 여러 포스트 들이 많으니 생략 하겠다.\n\n```javascript\nexport default ({ post }) =\u003e {\n    return (\n        \u003c\u003e\n            \u003carticle className=\"post\"\u003e\n                \u003cdiv className=\"log\"\u003e\n                    \u003cMarkdownPost post={post.body.code} /\u003e\n                \u003c/div\u003e\n            \u003c/article\u003e\n        \u003c/\u003e\n    );\n};\n\nexport const getStaticPaths = async () =\u003e {\n    return {\n        paths: allPosts.filter((i) =\u003e !i._raw.sourceFilePath.includes(\"/index.mdx\")).map((p) =\u003e ({ params: { slugs: p._raw.flattenedPath.split(\"/\") } })),\n        fallback: \"blocking\",\n    };\n};\n\nexport const getStaticProps = async ({ params }) =\u003e {\n    const post = allPosts.find((p) =\u003e p._raw.flattenedPath === params.slugs.join(\"/\"));\n    return {\n        props: {\n            post,\n        },\n    };\n};\n```\n\n(**import**와 같은 코드는 생략하도록 하자!)\n\n### 1.\n\n먼저 개시글 파일을 보면, **getStaticPaths**를 이용해서 **route path**를 빌드시점에 만들어준다.\n이때, 아까 말한 두 파일에서 동일한 라우팅이 발생하는 **index.mdx**파일을 제외하고 만들어 주기 위해서,\n**allPosts**배열에서 **index.mdx**를 포함하는 파일을 제거해 주었다.\n\n제거해 준 각 아이템들은 **params**로 **getStaticProps**에 넘겨주었다.\n\n### 2.\n\n그 이후 **getStaticProps**을 이용해서 **getStaticPaths**에게 받은 파라미터와 동일한 **path**를 가진 파일을 찾아서 컴포넌트에 **post prop**을 보내주었다.\n\n이때 **slugs**는 각 파라미터를 \"/\"기준으로 나누어 저장해둔 배열이기 때문에 \"/\"로 묶은 문자열로 치환해준다.\n\n## 2. [slug].jsx\n\n---\n\n이제 각 시리즈를 페이지를 만들어보자\n\n```jsx\nexport default ({ collection }) =\u003e {\n    console.log(collection);\n    return (\n        \u003cdiv\u003e\n            {collection.map((item) =\u003e {\n                return (\n                    \u003cLink href={`/posts/${item._raw.flattenedPath}`}\u003e\n                        \u003ch1\u003e{item.title}\u003c/h1\u003e\n                        \u003ch1\u003e{item.description}\u003c/h1\u003e\n                        \u003ch1\u003e{item.date}\u003c/h1\u003e\n                        \u003cbr /\u003e\n                    \u003c/Link\u003e\n                );\n            })}\n        \u003c/div\u003e\n    );\n};\nexport const getStaticPaths = async () =\u003e {\n    return {\n        paths: allPosts.map((p) =\u003e ({ params: { slug: p._raw.flattenedPath.split(\"/\")[0] } })),\n        fallback: false,\n    };\n};\n\nexport const getStaticProps = async ({ params }) =\u003e {\n    // const collection = getCollactionItem(params.slug);\n    const collection = allPosts.filter((i) =\u003e !i._raw.sourceFilePath.includes(\"/index.mdx\")).filter((i) =\u003e i._raw.flattenedPath.includes(params.slug));\n    return {\n        props: {\n            collection,\n        },\n    };\n};\n```\n\n여기서 **getStaticPaths**를 보면 아까 그녀석과 조금 다를 것이다.\n**[slug]**는 **[...slug]**와는 다르게 배열이 아닌 문자열 하나만 받는다.\n\n따라서 파일에 있는 경로는 \"시리즈 이름 / 게시물 이름\"이므로 경로를 \"/\"로 분리한 배열 중 첫번째가 시리즈의 **route**가 된다.\n\n**getStaticPaths**에게 받은 **params**를 **getStaticProps**는 각 시리즈의 정보 저장 파일인 **index.mdx**를 제외하고 **collection prop**을 컴포넌트에 보내준다.\n\n### 3. index.jsx\n\n```jsx\nexport default ({ posts }) =\u003e {\n    return (\n        \u003c\u003e\n            \u003cdiv className=\"p-[2em]\"\u003e\n                {posts.map((post) =\u003e {\n                    return (\n                        \u003cBlogPost\n                            key={post._id}\n                            date={post.date}\n                            title={post.title}\n                            des={post.description}\n                            slug={post._raw.flattenedPath}\n                        /\u003e\n                    );\n                })}\n            \u003c/div\u003e\n        \u003c/\u003e\n    );\n};\n\nexport const getStaticProps = async () =\u003e {\n    //allPosts =\u003e 해당 경로의 mdx파일을 배열에 담아서 전송해줌!\n    const posts = allPosts.filter((i) =\u003e i._raw.sourceFilePath.includes(\"/index.mdx\"));\n\n    return {\n        props: {\n            posts,\n        },\n    };\n};\n```\n\n자 이제 시리즈 리스트를 보여주는 **posts**의 가장 메인 페이지이다.\n\n여기는 쉽다. 페이지가 하나이기 때문에 **getStaticPaths**를 이용할 필요없고,\n**getStaticProps**는 아까 **[slug].jsx**에서는 **index.mdx**파일만 분리해줬다면, 여기서는 **index.mdx**파일만 불러와 주면된다!\n\n# 완성!\n\n---\n\n나는 이를 시도하는 도중에 갖은 버그를 만났다.\n아까 언급한 동일한 페이지가 라우팅이 2번 되는 버그라던지, 빌드한 뒤에 페이지가 클라이언트 사이트 에러가 난다던지....\n\n역시 부족한 지식덕분에 두들겨 맞으면서 만드는 중이다.\ncss도 없고 허접한 코드지만, 함수화 하고 컴포넌트를 분리해서 수정하고, 만들 생각이다.\n\n그래도 시리즈를 나누어 놓으니 너무 뿌듯하고 행복하다!\n\n다음에는 목차와 스크롤을 만들어 보고 싶은데..... 이거도 시도해 보니 쉽지 않다!\n완성하면 공유해 보도록 하겠다...\n\n# 참고 자료\n\n---\n\n~~https://miryang.dev/blog/build-blog-with-nextjs~~\n\n~~https://bepyan.github.io/blog~~\n","code":"var Component=(()=\u003e{var a=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var m=(t,n)=\u003e()=\u003e(n||t((n={exports:{}}).exports,n),n.exports),j=(t,n)=\u003e{for(var r in n)l(t,r,{get:n[r],enumerable:!0})},c=(t,n,r,i)=\u003e{if(n\u0026\u0026typeof n==\"object\"||typeof n==\"function\")for(let s of g(n))!x.call(t,s)\u0026\u0026s!==r\u0026\u0026l(t,s,{get:()=\u003en[s],enumerable:!(i=p(n,s))||i.enumerable});return t};var P=(t,n,r)=\u003e(r=t!=null?a(u(t)):{},c(n||!t||!t.__esModule?l(r,\"default\",{value:t,enumerable:!0}):r,t)),b=t=\u003ec(l({},\"__esModule\",{value:!0}),t);var d=m((S,o)=\u003e{o.exports=_jsx_runtime});var _={};j(_,{default:()=\u003ey,frontmatter:()=\u003ef});var e=P(d()),f={title:\"[\\uAC1C\\uBC1C] \\uD3F4\\uB354 \\uBCC4\\uB85C \\uC2DC\\uB9AC\\uC988 \\uB098\\uB204\\uAE30\",description:\"\\uAE00\\uC744 \\uB098\\uB204\\uB294 \\uAC74 \\uC54C\\uACA0\\uB294\\uB370 \\uC2DC\\uB9AC\\uC988\\uB294 \\uC5B4\\uCE90 \\uB098\\uB204\\uC9C0?\",collection:\"blog\",tags:[\"Blog\",\"Next.js\",\"\\uAC1C\\uBC1C\"],date:new Date(16847136e5),img:\"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png\"};function h(t){let n=Object.assign({h1:\"h1\",hr:\"hr\",blockquote:\"blockquote\",p:\"p\",a:\"a\",strong:\"strong\",pre:\"pre\",code:\"code\",h3:\"h3\",h2:\"h2\",del:\"del\"},t.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.h1,{children:\"\\uBC1C\\uB2E8\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"React\\uB97C \\uC5B4\\uCC0C\\uC800\\uCC0C \\uD074\\uB860\\uD574\\uBCF4\\uACE0, next.js\\uC5D0 \\uD639\\uD55C \\uB4A4\\uC5D0 \\uBE14\\uB85C\\uADF8 \\uAC1C\\uBC1C\\uC5D0 \\uD765\\uBBF8\\uAC00 \\uC0DD\\uAE34 \\uB098\\uB294 \\uC544\\uBB34\\uB7F0 \\uC9C0\\uC2DD \\uC5C6\\uC774 \\uBE14\\uB85C\\uADF8\\uB97C \\uB9CC\\uB4E4\\uAE30\\uB85C \\uD588\\uB2E4.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uB2E4\\uB978 \\uBD84\\uB4E4\\uC758 \\uBE14\\uB85C\\uADF8 \\uCF54\\uB4DC\\uB97C \\uCC38\\uC870\\uD558\\uACE0, \\uAE30\\uBCF8\\uC801\\uC778 \\uD398\\uC774\\uC9C0 \\uC0DD\\uC131\\uC740 next.js \\uBE14\\uB85C\\uADF8 \\uB77C\\uACE0 \\uAC80\\uC0C9 \\uD588\\uC744 \\uB54C \\uAC00\\uC7A5 \\uBA3C\\uC800 \\uBC1C\\uACAC\\uD55C \",(0,e.jsx)(n.a,{href:\"https://miryang.dev/blog/build-blog-with-nextjs\",children:\"Next.js\\uB85C \\uB098\\uB9CC\\uC758 \\uBE14\\uB85C\\uADF8 \\uB9CC\\uB4E4\\uAE30 with \\uC815\\uC801 \\uC0DD\\uC131\"}),\" \\uC744 \\uD1A0\\uB300\\uB85C \\uC2DC\\uC791\\uD588\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC774\\uB300\\uB85C \\uD3EC\\uC2A4\\uD2B8\\uB97C \\uB9CC\\uB4E4\\uB2E4 \\uBCF4\\uB2C8 \\uC5EC\\uD0C0 \\uB2E4\\uB978 \\uBE14\\uB85C\\uADF8\\uB098 \\uBCA8\\uB85C\\uADF8\\uC5D0\\uB3C4 \\uC788\\uB294 \\uC2DC\\uB9AC\\uC988 \\uBCC4\\uB85C \\uAE00\\uC744 \\uB098\\uB204\\uB294 \\uAC83\\uC774 \\uB108\\uBB34 \\uBD80\\uB7EC\\uC6E0\\uB2E4.\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\uAE00\\uC744 \\uAC1C\\uBC1C, \\uCF54\\uB529\\uD14C\\uC2A4\\uD2B8 \\uC5F0\\uC2B5, \\uC77C\\uC0C1, \\uD68C\\uACE0 \\uB4F1\\uB4F1 \\uB098\\uC911\\uC5D0 \\uD655\\uC7A5\\uD558\\uB2E4 \\uBCF4\\uBA74 \\uBD84\\uBA85 \\uAE00\\uC744 \\uD30C\\uC77C\\uBCC4\\uB85C \\uB098\\uB204\\uACE0 \\uC2F6\\uC5B4\\uC9C8 \\uAC83\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \\uBBF8\\uB9AC \\uB9CC\\uB4E4\\uC5B4 \\uB193\\uACE0 \\uC2F6\\uC5B4\\uC84C\\uB2E4.\"}),`\n`,(0,e.jsx)(n.p,{children:\"(\\uC774\\uAC78 \\uD558\\uBA74\\uC11C, \\uBC84\\uADF8\\uAC00 \\uB108\\uBB34 \\uB9CE\\uC774 \\uC0DD\\uACBC\\uB2E4.....)\"}),`\n`,(0,e.jsx)(n.h1,{children:\"\\uACFC\\uC815\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC2DC\\uB9AC\\uC988\\uB97C \\uB098\\uB208 \\uCF54\\uB4DC\\uB294 \",(0,e.jsx)(n.a,{href:\"https://bepyan.github.io/blog\",children:\"bepyan\"}),\"\\uB2D8\\uC758 \\uCF54\\uB4DC\\uB97C \\uCC38\\uACE0\\uD588\\uB2E4!\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC6B0\\uB9AC\\uB294 \\uB9C8\\uD06C\\uB2E4\\uC6B4 \\uD30C\\uC77C\\uC744 \",(0,e.jsx)(n.a,{href:\"https://www.contentlayer.dev/docs/environments/nextjs\",children:\"contentlayer\"}),\"\\uB97C \\uC774\\uC6A9\\uD574\\uC11C html\\uD30C\\uC77C\\uC5D0 \\uBE4C\\uB4DC\\uD55C\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB54C \",(0,e.jsx)(n.strong,{children:\"contentlayer\"}),\"\\uC5D0\\uC11C \\uD30C\\uC77C\\uC744 \\uAC00\\uC838\\uC624\\uB294 \\uBC29\\uBC95\\uC740 \",(0,e.jsx)(n.strong,{children:\"config\"}),\"\\uC5D0\\uC11C \\uC124\\uC815\\uD55C \\uB514\\uB799\\uD1A0\\uB9AC\\uC758 mdx\\uD30C\\uC77C\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uBC29\\uC2DD\\uC778\\uB370,\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uAC01 \\uD30C\\uC77C\\uC740 \",(0,e.jsx)(n.strong,{children:\"contentlayer\"}),\"\\uC5D0 \\uC758\\uD574 \",(0,e.jsx)(n.strong,{children:\"allPosts\"}),\" \\uBC30\\uC5F4\\uC5D0 \",(0,e.jsx)(n.strong,{children:\"json\"}),\"\\uD615\\uC2DD\\uC73C\\uB85C \\uC800\\uC7A5\\uB418\\uACE0, \\uD574\\uB2F9 \",(0,e.jsx)(n.strong,{children:\"json\"}),\"\\uD30C\\uC77C\\uC5D0\\uB294 \\uD3F4\\uB354 \\uB514\\uB799\\uD1A0\\uB9AC\\uAC00 \\uB098\\uD0C0\\uB098 \\uC788\\uC5B4 \\uB3D9\\uC801\\uB77C\\uC6B0\\uD305\\uC744 \\uC801\\uC6A9\\uD558\\uAE30 \\uD3B8\\uB9AC\\uD588\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uB0B4 \\uBE14\\uB85C\\uADF8\\uC758 \\uD3EC\\uC2A4\\uD2B8\\uB97C \\uB098\\uD0C0\\uB0B4\\uB294 \\uD30C\\uC77C \\uACBD\\uB85C\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uB2E4.\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{children:`pages\n|\n|-\u003e posts\n    |-\u003e [...slugs].jsx\n    |-\u003e[slug].jsx\n    |-\u003eindex.jsx\n`})}),`\n`,(0,e.jsx)(n.h3,{children:\"index.js\"}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"posts\"}),\" \\uD3F4\\uB354\\uC758 \\uAC00\\uC7A5 \\uAE30\\uBCF8 \\uACBD\\uB85C\\uC774\\uB2E4. \\uC774 \\uD398\\uC774\\uC9C0\\uC5D0\\uB294 \\uBAA8\\uB4E0 \\uC2DC\\uB9AC\\uC988\\uB97C \\uBCF4\\uC5EC\\uC8FC\\uB294 \\uD398\\uC774\\uC9C0\\uB97C \\uB9CC\\uB4E4 \\uAC83\\uC774\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"[slug].jsx\"}),`\n`,(0,e.jsx)(n.p,{children:`\\uADF8\\uB807\\uB2E4 \\uB3D9\\uC801\\uB77C\\uC6B0\\uD305 \\uB098\\uB294 \\uC774\\uB140\\uC11D \\uB54C\\uB9E4 \\uC560\\uB97C \\uBB34\\uC9C0\\uD558\\uAC8C \\uBA39\\uC5C8\\uB2E4....\n\\uC774 \\uD30C\\uC77C\\uC5D0\\uB294 \\uAC01 \\uC2DC\\uB9AC\\uC988\\uC5D0 \\uC788\\uB294 \\uAE00 \\uBAA9\\uB85D\\uC744 \\uB098\\uD0C0\\uB0B4\\uB294 \\uD398\\uC774\\uC9C0\\uB97C \\uB9CC\\uB4E4 \\uAC83\\uC774\\uB2E4.`}),`\n`,(0,e.jsx)(n.h3,{children:\"[...slugs].jsx\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC774 \\uD30C\\uC77C\\uC740 \\uAC01\\uAC01 \\uAE00\\uC5D0 \\uB300\\uD55C \\uD398\\uC774\\uC9C0\\uC774\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.blockquote,{children:[`\n`,(0,e.jsx)(n.p,{children:\"**\\uC790\\uC790 \\uB098\\uB3C4 [slug]\\uC640 [...slugs]\\uB54C\\uB9E4 \\uC560\\uB97C \\uBB34\\uC9C0\\uD558\\uAC8C \\uBA39\\uC5C8\\uB2E4. (\\uBC84\\uADF8\\uC758 \\uB300\\uBD80\\uBD84\\uC774 \\uC774 \\uBD80\\uBD84)\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:`\\uC2DC\\uB9AC\\uC988\\uC758 \\uB77C\\uC6B0\\uD2B8 \\uACBD\\uB85C -\u003e posts/\\uC2DC\\uB9AC\\uC988 \\uC774\\uB984\n\\uD3EC\\uC2A4\\uD2B8\\uC758 \\uB77C\\uC6B0\\uD2B8 \\uACBD\\uB85C -\u003e posts/\\uC2DC\\uB9AC\\uC988 \\uC774\\uB984/\\uD3EC\\uC2A4\\uD2B8 \\uC774\\uB984\n\\uC774\\uB7F0 \\uD615\\uC2DD\\uC73C\\uB85C \\uC815\\uC801 \\uD398\\uC774\\uC9C0\\uAC00 \\uBBF8\\uB9AC \\uC0DD\\uC131\\uB418\\uACE0 \\uB79C\\uB354\\uB9C1 \\uB420\\uD150\\uB370...`}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uC5EC\\uAE30\\uC11C \\uBB38\\uC81C\\uB294 **[...slugs]**\\uC5D0 \\uC788\\uB2E4. \\uC774 \\uCE5C\\uAD6C\\uB97C \\uC774\\uC6A9\\uD574\\uC11C slugs\\uB97C \"/\"\\uB2E8\\uC704\\uB85C \\uBD84\\uB9AC\\uD574\\uC11C \\uBC30\\uC5F4\\uC5D0 \\uC800\\uC7A5\\uD574\\uC11C\n\\uD3EC\\uC2A4\\uD2B8\\uB97C \\uC815\\uC801 \\uD398\\uC774\\uC9C0\\uB85C \\uB9CC\\uB4E4\\uD150\\uB370, \\uC774\\uB807\\uAC8C \\uB418\\uBA74 \"posts/\\uC2DC\\uB9AC\\uC988 \\uC774\\uB984\" \\uD398\\uC774\\uC9C0\\uB294 `,(0,e.jsx)(n.strong,{children:\"[slug].jsx\"}),\"\\uC5D0\\uC11C\\uB3C4 \\uC0DD\\uC131\\uB418\\uACE0 \",(0,e.jsx)(n.strong,{children:\"[...slugs].jsx\"}),\"\\uC5D0\\uC11C\\uB3C4 \\uC0DD\\uC131\\uB418\\uC5B4 \\uBE4C\\uB4DC\\uC2DC \\uC624\\uB958\\uAC00 \\uB09C\\uB2E4... (\\uADF8\\uB798\\uC11C \\uB098\\uB294 \",(0,e.jsx)(n.strong,{children:\"[...slugs].jsx\"}),\"\\uC5D0\\uC11C \",(0,e.jsx)(n.strong,{children:\"index.mdx\"}),\"\\uD30C\\uC77C\\uC744 \\uC81C\\uC678\\uD558\\uB294 \\uBC29\\uC2DD\\uC744 \\uC774\\uC6A9\\uD588\\uB2E4.)\"]}),`\n`,(0,e.jsx)(n.h1,{children:\"\\uC2DC\\uC791!\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:\"\\uAE00\\uC744 html\\uD398\\uC774\\uC9C0\\uC5D0 \\uBD88\\uB7EC\\uC624\\uB294 \\uAC74 \\uCC38\\uACE0\\uC790\\uB8CC\\uC5D0 \\uB098\\uC640\\uC788\\uB294 \\uBE14\\uB85C\\uADF8\\uC640 \\uAD6C\\uAE00\\uC5D0 \\uAC80\\uC0C9\\uD558\\uBA74 \\uC5EC\\uB7EC \\uD3EC\\uC2A4\\uD2B8 \\uB4E4\\uC774 \\uB9CE\\uC73C\\uB2C8 \\uC0DD\\uB7B5 \\uD558\\uACA0\\uB2E4.\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-javascript\",children:`export default ({ post }) =\u003e {\n    return (\n        \u003c\u003e\n            \u003carticle className=\"post\"\u003e\n                \u003cdiv className=\"log\"\u003e\n                    \u003cMarkdownPost post={post.body.code} /\u003e\n                \u003c/div\u003e\n            \u003c/article\u003e\n        \u003c/\u003e\n    );\n};\n\nexport const getStaticPaths = async () =\u003e {\n    return {\n        paths: allPosts.filter((i) =\u003e !i._raw.sourceFilePath.includes(\"/index.mdx\")).map((p) =\u003e ({ params: { slugs: p._raw.flattenedPath.split(\"/\") } })),\n        fallback: \"blocking\",\n    };\n};\n\nexport const getStaticProps = async ({ params }) =\u003e {\n    const post = allPosts.find((p) =\u003e p._raw.flattenedPath === params.slugs.join(\"/\"));\n    return {\n        props: {\n            post,\n        },\n    };\n};\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"(\",(0,e.jsx)(n.strong,{children:\"import\"}),\"\\uC640 \\uAC19\\uC740 \\uCF54\\uB4DC\\uB294 \\uC0DD\\uB7B5\\uD558\\uB3C4\\uB85D \\uD558\\uC790!)\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"1.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uBA3C\\uC800 \\uAC1C\\uC2DC\\uAE00 \\uD30C\\uC77C\\uC744 \\uBCF4\\uBA74, \",(0,e.jsx)(n.strong,{children:\"getStaticPaths\"}),\"\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \",(0,e.jsx)(n.strong,{children:\"route path\"}),`\\uB97C \\uBE4C\\uB4DC\\uC2DC\\uC810\\uC5D0 \\uB9CC\\uB4E4\\uC5B4\\uC900\\uB2E4.\n\\uC774\\uB54C, \\uC544\\uAE4C \\uB9D0\\uD55C \\uB450 \\uD30C\\uC77C\\uC5D0\\uC11C \\uB3D9\\uC77C\\uD55C \\uB77C\\uC6B0\\uD305\\uC774 \\uBC1C\\uC0DD\\uD558\\uB294 `,(0,e.jsx)(n.strong,{children:\"index.mdx\"}),`\\uD30C\\uC77C\\uC744 \\uC81C\\uC678\\uD558\\uACE0 \\uB9CC\\uB4E4\\uC5B4 \\uC8FC\\uAE30 \\uC704\\uD574\\uC11C,\n`,(0,e.jsx)(n.strong,{children:\"allPosts\"}),\"\\uBC30\\uC5F4\\uC5D0\\uC11C \",(0,e.jsx)(n.strong,{children:\"index.mdx\"}),\"\\uB97C \\uD3EC\\uD568\\uD558\\uB294 \\uD30C\\uC77C\\uC744 \\uC81C\\uAC70\\uD574 \\uC8FC\\uC5C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC81C\\uAC70\\uD574 \\uC900 \\uAC01 \\uC544\\uC774\\uD15C\\uB4E4\\uC740 \",(0,e.jsx)(n.strong,{children:\"params\"}),\"\\uB85C \",(0,e.jsx)(n.strong,{children:\"getStaticProps\"}),\"\\uC5D0 \\uB118\\uACA8\\uC8FC\\uC5C8\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"2.\"}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uADF8 \\uC774\\uD6C4 \",(0,e.jsx)(n.strong,{children:\"getStaticProps\"}),\"\\uC744 \\uC774\\uC6A9\\uD574\\uC11C \",(0,e.jsx)(n.strong,{children:\"getStaticPaths\"}),\"\\uC5D0\\uAC8C \\uBC1B\\uC740 \\uD30C\\uB77C\\uBBF8\\uD130\\uC640 \\uB3D9\\uC77C\\uD55C \",(0,e.jsx)(n.strong,{children:\"path\"}),\"\\uB97C \\uAC00\\uC9C4 \\uD30C\\uC77C\\uC744 \\uCC3E\\uC544\\uC11C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \",(0,e.jsx)(n.strong,{children:\"post prop\"}),\"\\uC744 \\uBCF4\\uB0B4\\uC8FC\\uC5C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB54C \",(0,e.jsx)(n.strong,{children:\"slugs\"}),'\\uB294 \\uAC01 \\uD30C\\uB77C\\uBBF8\\uD130\\uB97C \"/\"\\uAE30\\uC900\\uC73C\\uB85C \\uB098\\uB204\\uC5B4 \\uC800\\uC7A5\\uD574\\uB454 \\uBC30\\uC5F4\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \"/\"\\uB85C \\uBB36\\uC740 \\uBB38\\uC790\\uC5F4\\uB85C \\uCE58\\uD658\\uD574\\uC900\\uB2E4.']}),`\n`,(0,e.jsx)(n.h2,{children:\"2. [slug].jsx\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC774\\uC81C \\uAC01 \\uC2DC\\uB9AC\\uC988\\uB97C \\uD398\\uC774\\uC9C0\\uB97C \\uB9CC\\uB4E4\\uC5B4\\uBCF4\\uC790\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`export default ({ collection }) =\u003e {\n    console.log(collection);\n    return (\n        \u003cdiv\u003e\n            {collection.map((item) =\u003e {\n                return (\n                    \u003cLink href={\\`/posts/\\${item._raw.flattenedPath}\\`}\u003e\n                        \u003ch1\u003e{item.title}\u003c/h1\u003e\n                        \u003ch1\u003e{item.description}\u003c/h1\u003e\n                        \u003ch1\u003e{item.date}\u003c/h1\u003e\n                        \u003cbr /\u003e\n                    \u003c/Link\u003e\n                );\n            })}\n        \u003c/div\u003e\n    );\n};\nexport const getStaticPaths = async () =\u003e {\n    return {\n        paths: allPosts.map((p) =\u003e ({ params: { slug: p._raw.flattenedPath.split(\"/\")[0] } })),\n        fallback: false,\n    };\n};\n\nexport const getStaticProps = async ({ params }) =\u003e {\n    // const collection = getCollactionItem(params.slug);\n    const collection = allPosts.filter((i) =\u003e !i._raw.sourceFilePath.includes(\"/index.mdx\")).filter((i) =\u003e i._raw.flattenedPath.includes(params.slug));\n    return {\n        props: {\n            collection,\n        },\n    };\n};\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC5EC\\uAE30\\uC11C \",(0,e.jsx)(n.strong,{children:\"getStaticPaths\"}),`\\uB97C \\uBCF4\\uBA74 \\uC544\\uAE4C \\uADF8\\uB140\\uC11D\\uACFC \\uC870\\uAE08 \\uB2E4\\uB97C \\uAC83\\uC774\\uB2E4.\n**[slug]**\\uB294 **[...slug]**\\uC640\\uB294 \\uB2E4\\uB974\\uAC8C \\uBC30\\uC5F4\\uC774 \\uC544\\uB2CC \\uBB38\\uC790\\uC5F4 \\uD558\\uB098\\uB9CC \\uBC1B\\uB294\\uB2E4.`]}),`\n`,(0,e.jsxs)(n.p,{children:['\\uB530\\uB77C\\uC11C \\uD30C\\uC77C\\uC5D0 \\uC788\\uB294 \\uACBD\\uB85C\\uB294 \"\\uC2DC\\uB9AC\\uC988 \\uC774\\uB984 / \\uAC8C\\uC2DC\\uBB3C \\uC774\\uB984\"\\uC774\\uBBC0\\uB85C \\uACBD\\uB85C\\uB97C \"/\"\\uB85C \\uBD84\\uB9AC\\uD55C \\uBC30\\uC5F4 \\uC911 \\uCCAB\\uBC88\\uC9F8\\uAC00 \\uC2DC\\uB9AC\\uC988\\uC758 ',(0,e.jsx)(n.strong,{children:\"route\"}),\"\\uAC00 \\uB41C\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.strong,{children:\"getStaticPaths\"}),\"\\uC5D0\\uAC8C \\uBC1B\\uC740 \",(0,e.jsx)(n.strong,{children:\"params\"}),\"\\uB97C \",(0,e.jsx)(n.strong,{children:\"getStaticProps\"}),\"\\uB294 \\uAC01 \\uC2DC\\uB9AC\\uC988\\uC758 \\uC815\\uBCF4 \\uC800\\uC7A5 \\uD30C\\uC77C\\uC778 \",(0,e.jsx)(n.strong,{children:\"index.mdx\"}),\"\\uB97C \\uC81C\\uC678\\uD558\\uACE0 \",(0,e.jsx)(n.strong,{children:\"collection prop\"}),\"\\uC744 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \\uBCF4\\uB0B4\\uC900\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.h3,{children:\"3. index.jsx\"}),`\n`,(0,e.jsx)(n.pre,{children:(0,e.jsx)(n.code,{className:\"language-jsx\",children:`export default ({ posts }) =\u003e {\n    return (\n        \u003c\u003e\n            \u003cdiv className=\"p-[2em]\"\u003e\n                {posts.map((post) =\u003e {\n                    return (\n                        \u003cBlogPost\n                            key={post._id}\n                            date={post.date}\n                            title={post.title}\n                            des={post.description}\n                            slug={post._raw.flattenedPath}\n                        /\u003e\n                    );\n                })}\n            \u003c/div\u003e\n        \u003c/\u003e\n    );\n};\n\nexport const getStaticProps = async () =\u003e {\n    //allPosts =\u003e \\uD574\\uB2F9 \\uACBD\\uB85C\\uC758 mdx\\uD30C\\uC77C\\uC744 \\uBC30\\uC5F4\\uC5D0 \\uB2F4\\uC544\\uC11C \\uC804\\uC1A1\\uD574\\uC90C!\n    const posts = allPosts.filter((i) =\u003e i._raw.sourceFilePath.includes(\"/index.mdx\"));\n\n    return {\n        props: {\n            posts,\n        },\n    };\n};\n`})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC790 \\uC774\\uC81C \\uC2DC\\uB9AC\\uC988 \\uB9AC\\uC2A4\\uD2B8\\uB97C \\uBCF4\\uC5EC\\uC8FC\\uB294 \",(0,e.jsx)(n.strong,{children:\"posts\"}),\"\\uC758 \\uAC00\\uC7A5 \\uBA54\\uC778 \\uD398\\uC774\\uC9C0\\uC774\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC5EC\\uAE30\\uB294 \\uC27D\\uB2E4. \\uD398\\uC774\\uC9C0\\uAC00 \\uD558\\uB098\\uC774\\uAE30 \\uB54C\\uBB38\\uC5D0 \",(0,e.jsx)(n.strong,{children:\"getStaticPaths\"}),`\\uB97C \\uC774\\uC6A9\\uD560 \\uD544\\uC694\\uC5C6\\uACE0,\n`,(0,e.jsx)(n.strong,{children:\"getStaticProps\"}),\"\\uB294 \\uC544\\uAE4C \",(0,e.jsx)(n.strong,{children:\"[slug].jsx\"}),\"\\uC5D0\\uC11C\\uB294 \",(0,e.jsx)(n.strong,{children:\"index.mdx\"}),\"\\uD30C\\uC77C\\uB9CC \\uBD84\\uB9AC\\uD574\\uC92C\\uB2E4\\uBA74, \\uC5EC\\uAE30\\uC11C\\uB294 \",(0,e.jsx)(n.strong,{children:\"index.mdx\"}),\"\\uD30C\\uC77C\\uB9CC \\uBD88\\uB7EC\\uC640 \\uC8FC\\uBA74\\uB41C\\uB2E4!\"]}),`\n`,(0,e.jsx)(n.h1,{children:\"\\uC644\\uC131!\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:`\\uB098\\uB294 \\uC774\\uB97C \\uC2DC\\uB3C4\\uD558\\uB294 \\uB3C4\\uC911\\uC5D0 \\uAC16\\uC740 \\uBC84\\uADF8\\uB97C \\uB9CC\\uB0AC\\uB2E4.\n\\uC544\\uAE4C \\uC5B8\\uAE09\\uD55C \\uB3D9\\uC77C\\uD55C \\uD398\\uC774\\uC9C0\\uAC00 \\uB77C\\uC6B0\\uD305\\uC774 2\\uBC88 \\uB418\\uB294 \\uBC84\\uADF8\\uB77C\\uB358\\uC9C0, \\uBE4C\\uB4DC\\uD55C \\uB4A4\\uC5D0 \\uD398\\uC774\\uC9C0\\uAC00 \\uD074\\uB77C\\uC774\\uC5B8\\uD2B8 \\uC0AC\\uC774\\uD2B8 \\uC5D0\\uB7EC\\uAC00 \\uB09C\\uB2E4\\uB358\\uC9C0....`}),`\n`,(0,e.jsx)(n.p,{children:`\\uC5ED\\uC2DC \\uBD80\\uC871\\uD55C \\uC9C0\\uC2DD\\uB355\\uBD84\\uC5D0 \\uB450\\uB4E4\\uACA8 \\uB9DE\\uC73C\\uBA74\\uC11C \\uB9CC\\uB4DC\\uB294 \\uC911\\uC774\\uB2E4.\ncss\\uB3C4 \\uC5C6\\uACE0 \\uD5C8\\uC811\\uD55C \\uCF54\\uB4DC\\uC9C0\\uB9CC, \\uD568\\uC218\\uD654 \\uD558\\uACE0 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uBD84\\uB9AC\\uD574\\uC11C \\uC218\\uC815\\uD558\\uACE0, \\uB9CC\\uB4E4 \\uC0DD\\uAC01\\uC774\\uB2E4.`}),`\n`,(0,e.jsx)(n.p,{children:\"\\uADF8\\uB798\\uB3C4 \\uC2DC\\uB9AC\\uC988\\uB97C \\uB098\\uB204\\uC5B4 \\uB193\\uC73C\\uB2C8 \\uB108\\uBB34 \\uBFCC\\uB4EF\\uD558\\uACE0 \\uD589\\uBCF5\\uD558\\uB2E4!\"}),`\n`,(0,e.jsx)(n.p,{children:`\\uB2E4\\uC74C\\uC5D0\\uB294 \\uBAA9\\uCC28\\uC640 \\uC2A4\\uD06C\\uB864\\uC744 \\uB9CC\\uB4E4\\uC5B4 \\uBCF4\\uACE0 \\uC2F6\\uC740\\uB370..... \\uC774\\uAC70\\uB3C4 \\uC2DC\\uB3C4\\uD574 \\uBCF4\\uB2C8 \\uC27D\\uC9C0 \\uC54A\\uB2E4!\n\\uC644\\uC131\\uD558\\uBA74 \\uACF5\\uC720\\uD574 \\uBCF4\\uB3C4\\uB85D \\uD558\\uACA0\\uB2E4...`}),`\n`,(0,e.jsx)(n.h1,{children:\"\\uCC38\\uACE0 \\uC790\\uB8CC\"}),`\n`,(0,e.jsx)(n.hr,{}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.del,{children:(0,e.jsx)(n.a,{href:\"https://miryang.dev/blog/build-blog-with-nextjs\",children:\"https://miryang.dev/blog/build-blog-with-nextjs\"})})}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.del,{children:(0,e.jsx)(n.a,{href:\"https://bepyan.github.io/blog\",children:\"https://bepyan.github.io/blog\"})})})]})}function w(t={}){let{wrapper:n}=t.components||{};return n?(0,e.jsx)(n,Object.assign({},t,{children:(0,e.jsx)(h,t)})):h(t)}var y=w;return b(_);})();\n;return Component;"},"_id":"blog/[개발] 폴더 별로 시리즈 나누기.mdx","_raw":{"sourceFilePath":"blog/[개발] 폴더 별로 시리즈 나누기.mdx","sourceFileName":"[개발] 폴더 별로 시리즈 나누기.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/[개발] 폴더 별로 시리즈 나누기"},"type":"Post"},{"title":"블로그 북마크 만들기","date":"2023-06-18","description":"나도 웹사이트 미리보기를 만들고 싶다","collection":"blog","tags":["Blog","Next.js","개발","Next13"],"img":"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png","body":{"raw":"\n# 👋\n\n---\n\n이번에 next13이 어느정도 안정화되고… 여러 기능들을 읽어보니까 너무 사용하고 싶어서..\n\n이거 저거 만져보고 지금 블로그도 13버전으로 마이그레이션 하다보니까.. 시간이 너무 부족했습니다.\n\n새로운 환경이라 정보도 적고, 12버전에서 만들어 놓은 함수들과 페이지들을 전부 수정해야 하니 생각보다 시간이 많이 걸리더군요,…\n\n+Typescript 를 추가했는데… ㅋㅋㅋ 타입 충돌이 많이 나더군요..\n\n일단 만들어 놓은 북마크 기능을 보여드리도록 하죠\n\n![Untitled](https://velog.velcdn.com/images/ateals_12/post/bba1fb2b-6ee8-4a6e-8c0a-9969e772e6d5/image.png)\n\n사용자가 mdx파일에 `~~url~~` 형식으로 작성하면 페이지의 og테그 내용을 가져와 북마크로 만들어 줍니다\n\n# 시작!\n\n---\n\nog테그를 가져오기 위한 라이브러리는\n\n~~[https://www.npmjs.com/package/open-graph](https://www.npmjs.com/package/open-graph)~~\n\n를 사용했습니다.\n\n하지만 이 라이브러리를 next.js 서버컴포넌트에서 사용하려하니 net 모듈이 필요하더군요…\n\n최대한 라이브러리 작업을 하지 않기 위해 다음과 같은 방법을 사용했습니다.\n\n\u003caside className=\"my-10 py-[20px] px-[10px] dark:bg-[#1E1E1E] bg-[#efefef] rounded-[10px]\"\u003e\n\n1. api route를 만들어서 og태그를 받아오는 api를 만든다.\n2. 서버컴포넌트에서 api를 호출한다.\n3. 북마크를 랜더링한다.\n4. MDXcomponents 에서 북마크 컴포넌트를 불러온다!\n\n\u003c/aside\u003e\n\n처음엔 nextjs의 rewrite기능을 이용해서 임의로 만든 api키를 숨기는 방식을 사용하려 했지만..\n\n왜인지 vercel에 배포하면 rewrite로 불러올때 header를 가져오는 과정에서 이전 url의 파라미터를 가져올 수 가 없었습니다…\n\n그래서 서버에서 api를 호출 하는 방식으로 apikey를 숨겼습니다.\n\n코드를 보시죠!\n\n## api\n\n---\n\n```jsx\n//app/api/getOg\n\nimport { NextRequest, NextResponse } from \"next/server\";\nimport og from \"open-graph\";\n\nconst getOg = (url: string) =\u003e\n    new Promise((resolve, reject) =\u003e {\n        og(url, function (err, meta) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(meta);\n        });\n    });\n\nexport async function GET(request: NextRequest) {\n    const url = request.nextUrl.searchParams.get(\"url\");\n    const api_key = request.nextUrl.searchParams.get(\"api_key\");\n\n    if (api_key !== process.env.API_KEY) return NextResponse.json({ title: \"NOT MATCH API KEY\", api_key });\n    if (!url) return NextResponse.json({ title: \"NO URL\" });\n    try {\n        const data = await getOg(encodeURI(url));\n        return NextResponse.json(data);\n    } catch (err) {\n        return NextResponse.json({ err });\n    }\n}\n```\n\napi는 파라미터에 url과 api_key를 받아옵니다. api_key가 같은지 확인하고, 틀리다면 리턴합니다.\n\napi키가 동일하다면, getOg함수를 이용하여 open-graph 태그를 가져옵니다.\n\n가져온 태그를 json 형식으로 리턴합니다.\n\n이렇게 받아온 코드를 bookmark 컴포넌트에서는 다음과 같은 방법으로 받아옵니다.\n\n## Bookmark\n\n---\n\n```tsx\nimport Link from \"next/link\";\nimport { use } from \"react\";\n\ninterface data {\n    title: string;\n    image: {\n        url: string;\n    };\n    description?: string;\n}\nconst getOgData = async (url: string) =\u003e {\n    const baseUrl = process.env.NODE_ENV === \"development\" ? `http://localhost:3000` : \"https://tealslog.vercel.app\";\n    const data = await (await fetch(baseUrl + `/api/getOg?api_key=${process.env.NEXT_PUBLIC_API_KEY}\u0026url=${url}`)).json();\n    return data;\n};\n\nexport default ({ url }: { url: string }) =\u003e {\n    const data: data = use(getOgData(url));\n\n    return (\n        \u003c\u003e\n            {data \u0026\u0026 (\n                \u003cLink href={url}\u003e\n                    \u003cdiv className=\"shadowBottom my-10 flex h-[200px] hover:scale-105\"\u003e\n                        \u003cdiv className=\"h-full w-[30%] relative\"\u003e\n                            \u003cimg\n                                src={data.image?.url}\n                                alt=\"Image\"\n                                className=\"h-full w-full object-cover \"\n                            /\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"w-[70%] h-full relative flex flex-col justify-between p-4\"\u003e\n                            \u003cdiv className=\"overflow-hidden\"\u003e\n                                \u003ch1 className=\"text-[24px] font-bold mb-2 \"\u003e{data.title}\u003c/h1\u003e\n                                \u003cp className=\"text-[12px]\"\u003e{data.description}\u003c/p\u003e\n                            \u003c/div\u003e\n\n                            \u003csmall className=\"text-end overflow-clip text-[gray]\"\u003e{decodeURI(url)}\u003c/small\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/Link\u003e\n            )}\n        \u003c/\u003e\n    );\n};\n```\n\nNext 13 버전부터는 최상단에 “use client”를 작성하지 않은 컴포넌트는 모두 서버컴포넌트입니다.\n\n서버컴포넌트에서는 fetch를 이용해서 데이터를 가져오죠\n\n가져온 데이터를 컴포넌트에서 사용할땐 use()함수를 사용합니다.\n\nBookmark 컴포넌트는 url을 props로 받아서 api를 호출하고 받은 데이터를 북마크로 만들어줍니다.\n\n이렇게 만든 컴포넌트는 스켈레톤 ui를 포함합니다.\n\n```jsx\nexport const SkeletonBookmark = () =\u003e {\n    return (\n        \u003cdiv className=\"shadowBottom my-10 flex h-[200px]\"\u003e\n            \u003cdiv className=\"h-full w-[30%] bg-[gray] animate-pulse\"\u003e\u003c/div\u003e\n            \u003cdiv className=\"w-[70%] h-full relative flex flex-col justify-between p-4\"\u003e\n                \u003cdiv\u003e\n                    \u003ch1 className=\"w-[40%] text-[24px] font-bold mb-2 bg-[gray] h-[30px] animate-pulse\"\u003e\u003c/h1\u003e\n                    \u003cdiv className=\"w-[100%] text-[12px] h-[16px] animate-pulse flex items-center\"\u003e\u003c/div\u003e\n                \u003c/div\u003e\n                \u003csmall className=\"text-end bg-[gray] h-[12px] animate-pulse\"\u003e\u003c/small\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n};\n```\n\nmdx파일을 호출하면,\n\nsuspend에 fallback에 넘겨진 스켈레톤 ui를 먼저 보여준뒤,\n\n데이터를 받으면 bookmark 컴포넌트를 렌더합니다.\n\n# 🚪\n\n---\n\n이걸 만드는데 정말 많은 시행착오를 지난 것 같습니다..\n\n막상 결과를 만들고 나니 정말 뿌듯하고 이쁜거 같네요 ㅎㅎㅎ\n\n앞으로는 next 13을 사용해본 내용을 정리할거 같습니다\n\n마지막으로 북마크를 만들면서 가장 많이 들었던 노래를 공유하면서 마치겠습니다!\n\n~~[https://www.youtube.com/watch?v=hHD2GGRIJ9k](https://www.youtube.com/watch?v=hHD2GGRIJ9k)~~\n","code":"var Component=(()=\u003e{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var x=(r,e)=\u003e()=\u003e(e||r((e={exports:{}}).exports,e),e.exports),f=(r,e)=\u003e{for(var t in e)l(r,t,{get:e[t],enumerable:!0})},s=(r,e,t,i)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let a of m(e))!u.call(r,a)\u0026\u0026a!==t\u0026\u0026l(r,a,{get:()=\u003ee[a],enumerable:!(i=h(e,a))||i.enumerable});return r};var v=(r,e,t)=\u003e(t=r!=null?d(g(r)):{},s(e||!r||!r.__esModule?l(t,\"default\",{value:r,enumerable:!0}):t,r)),w=r=\u003es(l({},\"__esModule\",{value:!0}),r);var p=x((_,c)=\u003e{c.exports=_jsx_runtime});var j={};f(j,{default:()=\u003eb,frontmatter:()=\u003eN});var n=v(p()),N={title:\"\\uBE14\\uB85C\\uADF8 \\uBD81\\uB9C8\\uD06C \\uB9CC\\uB4E4\\uAE30\",description:\"\\uB098\\uB3C4 \\uC6F9\\uC0AC\\uC774\\uD2B8 \\uBBF8\\uB9AC\\uBCF4\\uAE30\\uB97C \\uB9CC\\uB4E4\\uACE0 \\uC2F6\\uB2E4\",collection:\"blog\",tags:[\"Blog\",\"Next.js\",\"\\uAC1C\\uBC1C\",\"Next13\"],date:new Date(16870464e5),img:\"https://velog.velcdn.com/images/ateals_12/post/fe7cb1c1-8d2c-43d9-947e-aa7f2e807140/image.png\"};function o(r){let e=Object.assign({h1:\"h1\",hr:\"hr\",p:\"p\",img:\"img\",code:\"code\",del:\"del\",a:\"a\",ol:\"ol\",li:\"li\",h2:\"h2\",pre:\"pre\"},r.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.h1,{children:\"\\u{1F44B}\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uBC88\\uC5D0 next13\\uC774 \\uC5B4\\uB290\\uC815\\uB3C4 \\uC548\\uC815\\uD654\\uB418\\uACE0\\u2026 \\uC5EC\\uB7EC \\uAE30\\uB2A5\\uB4E4\\uC744 \\uC77D\\uC5B4\\uBCF4\\uB2C8\\uAE4C \\uB108\\uBB34 \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC2F6\\uC5B4\\uC11C..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uAC70 \\uC800\\uAC70 \\uB9CC\\uC838\\uBCF4\\uACE0 \\uC9C0\\uAE08 \\uBE14\\uB85C\\uADF8\\uB3C4 13\\uBC84\\uC804\\uC73C\\uB85C \\uB9C8\\uC774\\uADF8\\uB808\\uC774\\uC158 \\uD558\\uB2E4\\uBCF4\\uB2C8\\uAE4C.. \\uC2DC\\uAC04\\uC774 \\uB108\\uBB34 \\uBD80\\uC871\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC0C8\\uB85C\\uC6B4 \\uD658\\uACBD\\uC774\\uB77C \\uC815\\uBCF4\\uB3C4 \\uC801\\uACE0, 12\\uBC84\\uC804\\uC5D0\\uC11C \\uB9CC\\uB4E4\\uC5B4 \\uB193\\uC740 \\uD568\\uC218\\uB4E4\\uACFC \\uD398\\uC774\\uC9C0\\uB4E4\\uC744 \\uC804\\uBD80 \\uC218\\uC815\\uD574\\uC57C \\uD558\\uB2C8 \\uC0DD\\uAC01\\uBCF4\\uB2E4 \\uC2DC\\uAC04\\uC774 \\uB9CE\\uC774 \\uAC78\\uB9AC\\uB354\\uAD70\\uC694,\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"+Typescript \\uB97C \\uCD94\\uAC00\\uD588\\uB294\\uB370\\u2026 \\u314B\\u314B\\u314B \\uD0C0\\uC785 \\uCDA9\\uB3CC\\uC774 \\uB9CE\\uC774 \\uB098\\uB354\\uAD70\\uC694..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC77C\\uB2E8 \\uB9CC\\uB4E4\\uC5B4 \\uB193\\uC740 \\uBD81\\uB9C8\\uD06C \\uAE30\\uB2A5\\uC744 \\uBCF4\\uC5EC\\uB4DC\\uB9AC\\uB3C4\\uB85D \\uD558\\uC8E0\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://velog.velcdn.com/images/ateals_12/post/bba1fb2b-6ee8-4a6e-8c0a-9969e772e6d5/image.png\",alt:\"Untitled\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"\\uC0AC\\uC6A9\\uC790\\uAC00 mdx\\uD30C\\uC77C\\uC5D0 \",(0,n.jsx)(e.code,{children:\"~~url~~\"}),\" \\uD615\\uC2DD\\uC73C\\uB85C \\uC791\\uC131\\uD558\\uBA74 \\uD398\\uC774\\uC9C0\\uC758 og\\uD14C\\uADF8 \\uB0B4\\uC6A9\\uC744 \\uAC00\\uC838\\uC640 \\uBD81\\uB9C8\\uD06C\\uB85C \\uB9CC\\uB4E4\\uC5B4 \\uC90D\\uB2C8\\uB2E4\"]}),`\n`,(0,n.jsx)(e.h1,{children:\"\\uC2DC\\uC791!\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"og\\uD14C\\uADF8\\uB97C \\uAC00\\uC838\\uC624\\uAE30 \\uC704\\uD55C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB294\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.del,{children:(0,n.jsx)(e.a,{href:\"https://www.npmjs.com/package/open-graph\",children:\"https://www.npmjs.com/package/open-graph\"})})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB97C \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uD558\\uC9C0\\uB9CC \\uC774 \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C next.js \\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD558\\uB824\\uD558\\uB2C8 net \\uBAA8\\uB4C8\\uC774 \\uD544\\uC694\\uD558\\uB354\\uAD70\\uC694\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCD5C\\uB300\\uD55C \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC \\uC791\\uC5C5\\uC744 \\uD558\\uC9C0 \\uC54A\\uAE30 \\uC704\\uD574 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC744 \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(\"aside\",{className:\"my-10 py-[20px] px-[10px] dark:bg-[#1E1E1E] bg-[#efefef] rounded-[10px]\",children:(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsx)(e.li,{children:\"api route\\uB97C \\uB9CC\\uB4E4\\uC5B4\\uC11C og\\uD0DC\\uADF8\\uB97C \\uBC1B\\uC544\\uC624\\uB294 api\\uB97C \\uB9CC\\uB4E0\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C api\\uB97C \\uD638\\uCD9C\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uBD81\\uB9C8\\uD06C\\uB97C \\uB79C\\uB354\\uB9C1\\uD55C\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"MDXcomponents \\uC5D0\\uC11C \\uBD81\\uB9C8\\uD06C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uBD88\\uB7EC\\uC628\\uB2E4!\"}),`\n`]})}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCC98\\uC74C\\uC5D4 nextjs\\uC758 rewrite\\uAE30\\uB2A5\\uC744 \\uC774\\uC6A9\\uD574\\uC11C \\uC784\\uC758\\uB85C \\uB9CC\\uB4E0 api\\uD0A4\\uB97C \\uC228\\uAE30\\uB294 \\uBC29\\uC2DD\\uC744 \\uC0AC\\uC6A9\\uD558\\uB824 \\uD588\\uC9C0\\uB9CC..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC65C\\uC778\\uC9C0 vercel\\uC5D0 \\uBC30\\uD3EC\\uD558\\uBA74 rewrite\\uB85C \\uBD88\\uB7EC\\uC62C\\uB54C header\\uB97C \\uAC00\\uC838\\uC624\\uB294 \\uACFC\\uC815\\uC5D0\\uC11C \\uC774\\uC804 url\\uC758 \\uD30C\\uB77C\\uBBF8\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uC218 \\uAC00 \\uC5C6\\uC5C8\\uC2B5\\uB2C8\\uB2E4\\u2026\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uADF8\\uB798\\uC11C \\uC11C\\uBC84\\uC5D0\\uC11C api\\uB97C \\uD638\\uCD9C \\uD558\\uB294 \\uBC29\\uC2DD\\uC73C\\uB85C apikey\\uB97C \\uC228\\uACBC\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uCF54\\uB4DC\\uB97C \\uBCF4\\uC2DC\\uC8E0!\"}),`\n`,(0,n.jsx)(e.h2,{children:\"api\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`//app/api/getOg\n\nimport { NextRequest, NextResponse } from \"next/server\";\nimport og from \"open-graph\";\n\nconst getOg = (url: string) =\u003e\n    new Promise((resolve, reject) =\u003e {\n        og(url, function (err, meta) {\n            if (err) {\n                reject(err);\n                return;\n            }\n            resolve(meta);\n        });\n    });\n\nexport async function GET(request: NextRequest) {\n    const url = request.nextUrl.searchParams.get(\"url\");\n    const api_key = request.nextUrl.searchParams.get(\"api_key\");\n\n    if (api_key !== process.env.API_KEY) return NextResponse.json({ title: \"NOT MATCH API KEY\", api_key });\n    if (!url) return NextResponse.json({ title: \"NO URL\" });\n    try {\n        const data = await getOg(encodeURI(url));\n        return NextResponse.json(data);\n    } catch (err) {\n        return NextResponse.json({ err });\n    }\n}\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"api\\uB294 \\uD30C\\uB77C\\uBBF8\\uD130\\uC5D0 url\\uACFC api_key\\uB97C \\uBC1B\\uC544\\uC635\\uB2C8\\uB2E4. api_key\\uAC00 \\uAC19\\uC740\\uC9C0 \\uD655\\uC778\\uD558\\uACE0, \\uD2C0\\uB9AC\\uB2E4\\uBA74 \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"api\\uD0A4\\uAC00 \\uB3D9\\uC77C\\uD558\\uB2E4\\uBA74, getOg\\uD568\\uC218\\uB97C \\uC774\\uC6A9\\uD558\\uC5EC open-graph \\uD0DC\\uADF8\\uB97C \\uAC00\\uC838\\uC635\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uAC00\\uC838\\uC628 \\uD0DC\\uADF8\\uB97C json \\uD615\\uC2DD\\uC73C\\uB85C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uB807\\uAC8C \\uBC1B\\uC544\\uC628 \\uCF54\\uB4DC\\uB97C bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uBC29\\uBC95\\uC73C\\uB85C \\uBC1B\\uC544\\uC635\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.h2,{children:\"Bookmark\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-tsx\",children:`import Link from \"next/link\";\nimport { use } from \"react\";\n\ninterface data {\n    title: string;\n    image: {\n        url: string;\n    };\n    description?: string;\n}\nconst getOgData = async (url: string) =\u003e {\n    const baseUrl = process.env.NODE_ENV === \"development\" ? \\`http://localhost:3000\\` : \"https://tealslog.vercel.app\";\n    const data = await (await fetch(baseUrl + \\`/api/getOg?api_key=\\${process.env.NEXT_PUBLIC_API_KEY}\u0026url=\\${url}\\`)).json();\n    return data;\n};\n\nexport default ({ url }: { url: string }) =\u003e {\n    const data: data = use(getOgData(url));\n\n    return (\n        \u003c\u003e\n            {data \u0026\u0026 (\n                \u003cLink href={url}\u003e\n                    \u003cdiv className=\"shadowBottom my-10 flex h-[200px] hover:scale-105\"\u003e\n                        \u003cdiv className=\"h-full w-[30%] relative\"\u003e\n                            \u003cimg\n                                src={data.image?.url}\n                                alt=\"Image\"\n                                className=\"h-full w-full object-cover \"\n                            /\u003e\n                        \u003c/div\u003e\n                        \u003cdiv className=\"w-[70%] h-full relative flex flex-col justify-between p-4\"\u003e\n                            \u003cdiv className=\"overflow-hidden\"\u003e\n                                \u003ch1 className=\"text-[24px] font-bold mb-2 \"\u003e{data.title}\u003c/h1\u003e\n                                \u003cp className=\"text-[12px]\"\u003e{data.description}\u003c/p\u003e\n                            \u003c/div\u003e\n\n                            \u003csmall className=\"text-end overflow-clip text-[gray]\"\u003e{decodeURI(url)}\u003c/small\u003e\n                        \u003c/div\u003e\n                    \u003c/div\u003e\n                \u003c/Link\u003e\n            )}\n        \u003c/\u003e\n    );\n};\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"Next 13 \\uBC84\\uC804\\uBD80\\uD130\\uB294 \\uCD5C\\uC0C1\\uB2E8\\uC5D0 \\u201Cuse client\\u201D\\uB97C \\uC791\\uC131\\uD558\\uC9C0 \\uC54A\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uBAA8\\uB450 \\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC785\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC11C\\uBC84\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C\\uB294 fetch\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uC8E0\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uAC00\\uC838\\uC628 \\uB370\\uC774\\uD130\\uB97C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD560\\uB550 use()\\uD568\\uC218\\uB97C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 url\\uC744 props\\uB85C \\uBC1B\\uC544\\uC11C api\\uB97C \\uD638\\uCD9C\\uD558\\uACE0 \\uBC1B\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uBD81\\uB9C8\\uD06C\\uB85C \\uB9CC\\uB4E4\\uC5B4\\uC90D\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uB807\\uAC8C \\uB9CC\\uB4E0 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC2A4\\uCF08\\uB808\\uD1A4 ui\\uB97C \\uD3EC\\uD568\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-jsx\",children:`export const SkeletonBookmark = () =\u003e {\n    return (\n        \u003cdiv className=\"shadowBottom my-10 flex h-[200px]\"\u003e\n            \u003cdiv className=\"h-full w-[30%] bg-[gray] animate-pulse\"\u003e\u003c/div\u003e\n            \u003cdiv className=\"w-[70%] h-full relative flex flex-col justify-between p-4\"\u003e\n                \u003cdiv\u003e\n                    \u003ch1 className=\"w-[40%] text-[24px] font-bold mb-2 bg-[gray] h-[30px] animate-pulse\"\u003e\u003c/h1\u003e\n                    \u003cdiv className=\"w-[100%] text-[12px] h-[16px] animate-pulse flex items-center\"\u003e\u003c/div\u003e\n                \u003c/div\u003e\n                \u003csmall className=\"text-end bg-[gray] h-[12px] animate-pulse\"\u003e\u003c/small\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    );\n};\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"mdx\\uD30C\\uC77C\\uC744 \\uD638\\uCD9C\\uD558\\uBA74,\"}),`\n`,(0,n.jsx)(e.p,{children:\"suspend\\uC5D0 fallback\\uC5D0 \\uB118\\uACA8\\uC9C4 \\uC2A4\\uCF08\\uB808\\uD1A4 ui\\uB97C \\uBA3C\\uC800 \\uBCF4\\uC5EC\\uC900\\uB4A4,\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB370\\uC774\\uD130\\uB97C \\uBC1B\\uC73C\\uBA74 bookmark \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uB80C\\uB354\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.h1,{children:\"\\u{1F6AA}\"}),`\n`,(0,n.jsx)(e.hr,{}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC774\\uAC78 \\uB9CC\\uB4DC\\uB294\\uB370 \\uC815\\uB9D0 \\uB9CE\\uC740 \\uC2DC\\uD589\\uCC29\\uC624\\uB97C \\uC9C0\\uB09C \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4..\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB9C9\\uC0C1 \\uACB0\\uACFC\\uB97C \\uB9CC\\uB4E4\\uACE0 \\uB098\\uB2C8 \\uC815\\uB9D0 \\uBFCC\\uB4EF\\uD558\\uACE0 \\uC774\\uC05C\\uAC70 \\uAC19\\uB124\\uC694 \\u314E\\u314E\\u314E\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uC55E\\uC73C\\uB85C\\uB294 next 13\\uC744 \\uC0AC\\uC6A9\\uD574\\uBCF8 \\uB0B4\\uC6A9\\uC744 \\uC815\\uB9AC\\uD560\\uAC70 \\uAC19\\uC2B5\\uB2C8\\uB2E4\"}),`\n`,(0,n.jsx)(e.p,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uBD81\\uB9C8\\uD06C\\uB97C \\uB9CC\\uB4E4\\uBA74\\uC11C \\uAC00\\uC7A5 \\uB9CE\\uC774 \\uB4E4\\uC5C8\\uB358 \\uB178\\uB798\\uB97C \\uACF5\\uC720\\uD558\\uBA74\\uC11C \\uB9C8\\uCE58\\uACA0\\uC2B5\\uB2C8\\uB2E4!\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.del,{children:(0,n.jsx)(e.a,{href:\"https://www.youtube.com/watch?v=hHD2GGRIJ9k\",children:\"https://www.youtube.com/watch?v=hHD2GGRIJ9k\"})})})]})}function k(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,Object.assign({},r,{children:(0,n.jsx)(o,r)})):o(r)}var b=k;return w(j);})();\n;return Component;"},"_id":"blog/bookmark.mdx","_raw":{"sourceFilePath":"blog/bookmark.mdx","sourceFileName":"bookmark.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/bookmark"},"type":"Post"}]}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"blog"},"buildId":"s36_Vv7CN2nR3xVNA3SaL","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body><script>(function() {
        if(window.matchMedia("(prefers-color-scheme: dark)").matches && localStorage.getItem("darkMode") !== "false" ){
            localStorage.setItem("darkMode", "true");
        } 
        if (localStorage.getItem("darkMode") === "true") {
            document.querySelector("html").classList.toggle("dark");
        }
        if (localStorage.getItem("darkMode") === null) {
            localStorage.setItem("darkMode", false);
        }
       
  })()</script></html></body></html>